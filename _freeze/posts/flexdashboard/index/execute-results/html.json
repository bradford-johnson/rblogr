{
  "hash": "2e3d2b2e95cbc694364ad242c1bb7e40",
  "result": {
    "markdown": "---\ntitle: \"Wind Direction Radial\"\noutput: \n  flexdashboard::flex_dashboard:\n    orientation: rows\n---\n\nRow\n-------------------------------------\n    \n### Wind Bearing\n    \n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(DBI)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'DBI' was built under R version 4.1.3\n```\n:::\n\n```{.r .cell-code}\nlibrary(RPostgres)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'RPostgres' was built under R version 4.1.3\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'tidyverse' was built under R version 4.1.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n-- Attaching packages --------------------------------------- tidyverse 1.3.2 --\nv ggplot2 3.3.6      v purrr   0.3.4 \nv tibble  3.1.8      v dplyr   1.0.10\nv tidyr   1.2.1      v stringr 1.4.1 \nv readr   2.1.2      v forcats 0.5.2 \n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'ggplot2' was built under R version 4.1.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'tibble' was built under R version 4.1.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'readr' was built under R version 4.1.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'stringr' was built under R version 4.1.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'forcats' was built under R version 4.1.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n-- Conflicts ------------------------------------------ tidyverse_conflicts() --\nx dplyr::filter() masks stats::filter()\nx dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(strainerr)\n\n# establish connection with postgres data base\ncon <- dbConnect(RPostgres::Postgres(),dbname = 'weatherinszeged', \n                 host = '142.93.121.174', \n                 port = 5432, \n                 user = 'dabc_student',\n                 password = '7*.8G9QH21')\n\n# make sql query\nres <- dbSendQuery(con, \"\n              SELECT windbearing AS angle, COUNT(windbearing) AS frequency \n              FROM weatherinszeged\n              GROUP BY windbearing\n              ORDER BY angle;\n                   \")\n# execute query\ndf <- dbFetch(res)\n\n# clear query\ndbClearResult(res)\n\n# disconnect from data base\ndbDisconnect(con)\n\np <- df %>%\n  mutate(Frequency = as.numeric(frequency), angle = as.numeric(angle)) %>%\n  ggplot(aes(x = angle, y = Frequency,colour = Frequency)) +\n  coord_polar(theta = \"x\", start = -pi/45) +\n  geom_col(posotion=\"jitter\",size = 1) +\n  scale_x_continuous(breaks = seq(0, 360, 45)) +\n  scale_colour_continuous(type = \"gradient\") +\n  theme_minimal() +\n  theme(legend.position = \"right\", legend.title = element_text(angle = 0, vjust = 1), axis.text.y = element_blank(), axis.text.x = element_text(face = \"bold\"))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Ignoring unknown parameters: posotion\n```\n:::\n\n```{.r .cell-code}\np <- titlr(p, \"\", \"Angle\", \"\")\n\np\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n    \n### Wind Bearing and Speed\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# establish connection with postgres data base\ncon <- dbConnect(RPostgres::Postgres(),dbname = 'weatherinszeged', \n                 host = '142.93.121.174', \n                 port = 5432, \n                 user = 'dabc_student',\n                 password = '7*.8G9QH21')\n\n# make sql query\nres <- dbSendQuery(con, \"\n              SELECT windspeed AS wind, windbearing as bear\n              FROM weatherinszeged\n              LIMIT 2000;\n                   \")\n# execute query\ndf2 <- dbFetch(res)\n\n# clear query\ndbClearResult(res)\n\n# disconnect from data base\ndbDisconnect(con)\n\np2 <- df2 %>%\n  mutate(MPH=wind) %>%\nggplot(aes(x = bear, y = MPH,colour = MPH)) +\n  coord_polar(theta = \"x\", start = -pi/45) +\n  geom_col(position = \"jitter\",size = 1) +\n  scale_x_continuous(breaks = seq(0, 360, 45)) +\n  scale_colour_continuous(type = \"gradient\") +\n  theme_minimal() +\n  theme(legend.position = \"right\", legend.title = element_text(angle = 0, vjust = 1), axis.text.y = element_blank(), axis.text.x = element_text(face = \"bold\"))\n  \np2 <- titlr(p2,\"\", \"Angle\", \"\")\n\np2\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}